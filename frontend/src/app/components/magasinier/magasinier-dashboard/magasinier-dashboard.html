<div class="dash luxury">

  <!-- HEADER - Gardez votre version modifiée -->
  <header class="topbar glass">
    <div class="brand">
      <div class="brand-badge">
        <div class="badge-dot"></div>
      </div>
      <div>
        <h1>Espace Magasinier</h1>
        <p>Gestion des stocks et commandes</p>
      </div>
    </div>

    <div class="user">
      <div class="user-text">
        <div class="hello">Bienvenue,</div>
        <div class="name">{{ currentUser?.firstName }} {{ currentUser?.lastName }}</div>
      </div>
      <button class="btn ghost" (click)="logout()">Déconnexion</button>
    </div>
  </header>

  <main class="dashboard-main">
    <!-- Loading -->
    <div *ngIf="isLoading" class="loading-container">
      <div class="spinner"></div>
      <p>Chargement en cours...</p>
    </div>

    <!-- Error -->
    <div *ngIf="!isLoading && errorMessage" class="error-message">
      ⚠️ {{ errorMessage }}
    </div>

    <!-- STATS - Adaptez leur design avec vos données -->
    <section class="stats" *ngIf="!isLoading">
      <div class="stat glass low">
        <div class="stat-head">
          <span class="pill warn">Priorité</span>
        </div>
        <div class="stat-title">Stocks Faibles</div>
        <div class="stat-value">{{ stats.lowStock }}</div>
        <div class="stat-sub">Produits à réapprovisionner</div>
      </div>

      <div class="stat glass pending">
        <div class="stat-head">
          <span class="pill info">À traiter</span>
        </div>
        <div class="stat-title">Commandes en Attente</div>
        <div class="stat-value">{{ stats.pendingOrders }}</div>
        <div class="stat-sub">À valider / préparer</div>
      </div>

      <div class="stat glass stock">
        <div class="stat-head">
          <span class="pill ok">Total</span>
        </div>
        <div class="stat-title">Produits en Stock</div>
        <div class="stat-value">{{ stats.totalProducts }}</div>
        <div class="stat-sub">Total disponible</div>
      </div>

      <div class="stat glass today">
        <div class="stat-head">
          <span class="pill purple">Aujourd'hui</span>
        </div>
        <div class="stat-title">Commandes Aujourd'hui</div>
        <div class="stat-value">{{ stats.todayOrders }}</div>
        <div class="stat-sub">À préparer</div>
        <small class="stat-date">{{ todayDate | date:'dd/MM/yyyy' }}</small>
      </div>
    </section>

    <!-- ACTIONS - Adaptez leurs cartes avec vos événements -->
    <section class="section" *ngIf="!isLoading">
      <div class="section-head">
        <h2>Actions rapides</h2>
        <p>Accès direct aux modules clés</p>
      </div>

      <div class="actions">
        <div class="action glass" (click)="manageInventory()">
          <div class="action-text">
            <div class="action-title">Gestion des Stocks</div>
            <div class="action-sub">Mettre à jour quantités, seuils, alertes.</div>
            <div *ngIf="stats.lowStock > 0" class="alert-badge">
              {{ stats.lowStock }} stock(s) faible(s)
            </div>
          </div>
          <div class="action-arrow">→</div>
        </div>

        <div class="action glass" (click)="processOrders()">
          <div class="action-text">
            <div class="action-title">Commandes</div>
            <div class="action-sub">Préparer, valider, suivre les commandes.</div>
            <div *ngIf="stats.pendingOrders > 0" class="alert-badge">
              {{ stats.pendingOrders }} en attente
            </div>
          </div>
          <div class="action-arrow">→</div>
        </div>
      </div>
    </section>
  </main>
</div>
