<div class="dashboard-container">
  <header class="dashboard-header">
    <div class="container">
      <div class="header-content">
        <div class="header-left">
          <h1>Espace Administrateur</h1>
          <p>Gestion complÃ¨te de la plateforme</p>
        </div>
        <div class="header-right">
          <div class="user-info">
            <span>Bienvenue, <strong>{{ currentUser?.firstName }} {{ currentUser?.lastName }}</strong></span>
            <button (click)="logout()" class="btn btn-outline">DÃ©connexion</button>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main class="dashboard-main">
    <div class="container">
      <!-- Statistiques -->
      <section class="stats-section">
        <h2>ðŸ“Š Tableau de Bord</h2>
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">ðŸ‘¥</div>
            <h3>Utilisateurs Total</h3>
            <p class="stat-number">
              {{ isLoading ? '...' : stats.totalUsers }}
            </p>
            <p class="stat-label">
              <span class="active-users">{{ stats.activeUsers }}</span> actifs
            </p>
            <div class="stat-progress" *ngIf="!isLoading && stats.totalUsers > 0">
              <div class="progress-fill"
                   [style.width.%]="(stats.activeUsers / stats.totalUsers * 100)"></div>
            </div>
          </div>

          <div class="stat-card">
            <div class="stat-icon">ðŸ“¦</div>
            <h3>Produits</h3>
            <p class="stat-number">
              {{ isLoading ? '...' : stats.totalProducts }}
            </p>
            <p class="stat-label">En catalogue</p>
            <p class="stat-alert" *ngIf="!isLoading && stats.lowStockProducts > 0">
              âš  {{ stats.lowStockProducts }} stock bas
            </p>
          </div>

          <!-- Carte 3: Commandes -->
          <div class="stat-card">
            <div class="stat-icon">ðŸ›’</div>
            <h3>Commandes</h3>
            <p class="stat-number">
              {{ isLoading ? '...' : stats.totalOrders }}
            </p>
            <p class="stat-label">Ce mois</p>
            <div class="stat-trend" *ngIf="!isLoading">
        <span [ngClass]="stats.monthlyGrowth >= 0 ? 'trend-up' : 'trend-down'">
          {{ stats.monthlyGrowth >= 0 ? 'â†—' : 'â†˜' }}
        </span>
              <span>{{ stats.monthlyGrowth >= 0 ? '+' : '' }}{{ stats.monthlyGrowth }}%</span>
            </div>
          </div>

          <!-- Carte 4: Votre RÃ´le -->
          <div class="stat-card">
            <div class="stat-icon">ðŸ’¼</div>
            <h3>Votre RÃ´le</h3>
            <p class="stat-number">ADMIN</p>
            <p class="stat-label">AccÃ¨s complet</p>
            <div class="stat-badge" *ngIf="currentUser">
              {{ currentUser.firstName }} {{ currentUser.lastName }}
            </div>
          </div>
        </div>
      </section>

      <!-- Actions Rapides -->
      <section class="actions-section">
        <h2>ðŸš€ Actions Rapides</h2>
        <div class="actions-grid">
          <div class="action-card" (click)="goToUsersCrud()">
            <div class="action-icon">ðŸ‘¥</div>
            <h4>Gestion Utilisateurs</h4>
            <p>GÃ©rer les comptes utilisateurs et permissions</p>
            <button class="btn btn-primary">AccÃ©der</button>
          </div>
          <div class="action-card">
            <div class="action-icon">ðŸ“¦</div>
            <h4>Gestion Produits</h4>
            <p>GÃ©rer le catalogue produits et stocks</p>
            <button class="btn btn-primary">AccÃ©der</button>
          </div>
          <div class="action-card" (click)="statistiques()">
            <div class="action-icon">ðŸ“Š</div>
            <h4>Rapports</h4>
            <p>Consulter les statistiques et analyses</p>
            <button class="btn btn-primary">AccÃ©der</button>
          </div>
        </div>
      </section>
    </div>
  </main>
</div>
